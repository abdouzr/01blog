<!-- frontend/src/app/components/feed/feed.component.html -->
<div class="feed-container">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-12 col-lg-8 col-md-10">
        <!-- Header -->
        <div class="feed-header">
          <div class="d-flex justify-content-between align-items-center flex-wrap">
            <h1 class="feed-title mb-3 mb-md-0">‚òÄÔ∏è Your Sacred Learning Journey</h1>
            <a routerLink="/create-post" class="btn create-post-btn">
              <i class="bi bi-plus-circle"></i> Share Your Light
            </a>
          </div>
          <p class="text-muted mt-3 mb-0 text-center text-md-start">
            "In the pursuit of knowledge, every shared experience illuminates the path for others"
          </p>
          
          <!-- Debug info -->
          <div class="debug-info mt-2 p-2 bg-light rounded" *ngIf="posts.length > 0">
            <small class="text-muted">
              üîç Debug: Showing {{ posts.length }} posts | User ID: {{ currentUserId }}
            </small>
            <button class="btn btn-sm btn-outline-secondary ms-2" (click)="debugFeed()">
              Debug Feed
            </button>
          </div>
        </div>

        <!-- Loading state -->
        <div *ngIf="isLoading" class="text-center py-5">
          <div class="spinner-border loading-spinner" role="status">
            <span class="visually-hidden">Loading...</span>
          </div>
          <p class="mt-3">Gathering wisdom from the celestial library...</p>
        </div>

        <!-- Empty state -->
        <div *ngIf="!isLoading && posts.length === 0" class="empty-feed text-center py-5">
          <div class="empty-state-content">
            <i class="bi bi-sun display-1"></i>
            <h3 class="mt-3">No posts yet</h3>
            <p>Be the first to share your thoughts and experiences!</p>
            <a routerLink="/create-post" class="btn create-post-btn mt-3">
              <i class="bi bi-plus-circle"></i> Create Your First Post
            </a>
          </div>
        </div>

        <!-- Posts list -->
        <div *ngIf="!isLoading && posts.length > 0" class="posts-constellation">
          <div class="posts-count mb-3">
            <small>Showing {{ posts.length }} posts</small>
          </div>
          
          <app-post 
            *ngFor="let post of posts; trackBy: trackByPostId" 
            [post]="post"
            [currentUserId]="currentUserId" 
            (like)="handleLike($event)"
            (deletePost)="handleDeletePost($event)"
            class="post-star">
          </app-post>
        </div>
      </div>
    </div>
  </div>
</div>